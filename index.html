<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Prevent crawling/indexing -->
    <meta name="robots" content="noindex, nofollow">

    <!-- Address Bar / Theme Colors -->
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Roberts Cup">

    <title>2025-26 Roberts Cup</title>

    <!-- Local Icons from /images/web directory -->
    <link rel="icon" href="images/web/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="192x192" href="images/web/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="images/web/icon-512.png">
    <link rel="apple-touch-icon" href="images/web/apple-touch-icon.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Config to Enforce Global Fonts -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Chivo', 'sans-serif'],
                        serif: ['"Patua One"', 'serif'],
                    },
                    colors: {
                        brand: '#0f172a', // Dark Slate
                    }
                }
            }
        }
    </script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,300;0,400;0,700;0,900;1,400&family=Patua+One&display=swap" rel="stylesheet">

    <style>
        /* PAGE MODE: Allow natural vertical scrolling */
        body {
            font-family: 'Chivo', sans-serif;
            /* Force the "overscroll" background to match the header color */
            background-color: #0f172a;
        }

        /* Ensure the app container covers the dark body with the light theme */
        #root > div {
            background-color: #f8fafc; /* Slate-50 */
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Patua One', serif;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            height: 10px;
            width: 8px;
            background: transparent;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 8px;
            border: 2px solid #f1f5f9;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Hide scrollbar for menu */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Sticky Column Shadow */
        .sticky-col-shadow {
            box-shadow: 4px 0 8px -4px rgba(0, 0, 0, 0.1);
        }

        /* Z-INDEX HIERARCHY */
        th.sticky-left { z-index: 50 !important; }
        td.sticky-left { z-index: 40 !important; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="js/rc-config.js"></script>

    <script type="text/babel" src="js/rc-nav.js"></script>

    <script type="text/babel" src="js/rc-page-home.js"></script>

    
    <script type="text/babel" src="js/rc-page-standings.js"></script>
    <script type="text/babel" src="js/rc-page-picks.js"></script>

    <script type="text/babel" src="js/rc-page-race.js"></script>

    <script type="text/babel" src="js/rc-page-badges.js"></script>
  <script type="text/babel" src="js/rc-page-versus.js"></script>
    <script type="text/babel" src="js/rc-page-simulator.js"></script>
  <script type="text/babel" src="js/rc-page-scouting.js"></script>

<script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- CONFIGURATION + HELPERS (loaded from /js/rc-config.js) ---
        const { SCHEDULE_URL, PICKS_URL, HISTORY_URL, parseCSV, csvToJson } = window.RC;

        // --- COMPONENTS ---

        const LoadingSpinner = ({ text }) => (
            <div className="flex flex-col items-center justify-center min-h-screen text-gray-500 bg-white">
                <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mb-4"></div>
                <p className="font-medium text-blue-900">{text}</p>
            </div>
        );

        const ErrorMessage = ({ message }) => (
            <div className="flex items-center justify-center min-h-screen bg-gray-100">
                <div className="bg-white border-l-4 border-red-500 text-red-700 px-6 py-4 rounded shadow-md max-w-lg">
                    <h3 className="font-bold mb-1">Data Error</h3>
                    <p className="text-sm">{message}</p>
                </div>
            </div>
        );

        const StatusPill = ({ pick, winner }) => {
            const safePick = pick ? pick.toString().trim() : "";
            const safeWinner = winner ? winner.toString().trim() : "";

            if (!safePick) {
                return <span className="text-gray-300">-</span>;
            }

            // Pending Game
            if (!safeWinner) {
                return (
                    <span className="inline-block px-2 py-0.5 rounded-lg border border-transparent text-xs font-medium bg-gray-50 text-gray-900 whitespace-nowrap">
                        {safePick}
                    </span>
                );
            }

            const isCorrect = safePick.toLowerCase() === safeWinner.toLowerCase();

            if (isCorrect) {
                return (
                    <span className="inline-flex items-center justify-center gap-1 px-2 py-0.5 rounded-lg border border-green-200 text-xs font-bold bg-green-100 text-green-800 whitespace-nowrap shadow-sm">
                        {safePick}
                        <svg className="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" strokeWidth="3">
                            <path strokeLinecap="round" strokeLinejoin="round" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </span>
                );
            } else {
                return (
                    <span className="inline-block px-2 py-0.5 rounded-lg border border-transparent text-xs font-medium bg-red-50 text-red-400 line-through decoration-red-400 opacity-75 whitespace-nowrap">
                        {safePick}
                    </span>
                );
            }
        };

        // --- NAVIGATION (loaded from js/rc-nav.js) ---
        const { Navigation } = window.RC;

        // --- PAGES ---

        

        // 0. HOME PAGE (loaded from js/rc-page-home.js)
        window.RC.pages = window.RC.pages || {};
        const { HomePage, StandingsPage, PicksPage, RacePage, BadgesPage, VersusPage, SimulatorPage, ScoutingReportPage } = window.RC.pages;

        // 1. STANDINGS PAGE (loaded from js/rc-page-standings.js)

        // (StandingsPage extracted)

        // 2. PICKS PAGE (loaded from js/rc-page-picks.js)

        // (PicksPage extracted)

        // 3. RACE PAGE (loaded from js/rc-page-race.js)

        // (RacePage extracted)

        // 4. BADGES PAGE (loaded from js/rc-page-badges.js)

// 5. VERSUS PAGE (loaded from js/rc-page-versus.js)

        // (VersusPage extracted)

        // 6. SIMULATOR PAGE (loaded from js/rc-page-simulator.js)
        // (SimulatorPage extracted)
                // 7. SCOUTING REPORT PAGE (loaded from js/rc-page-scouting.js)
        // (ScoutingReportPage extracted)

        // 8. HISTORY PAGE
        const HistoryPage = () => {
            const [historyData, setHistoryData] = useState([]); const [loading, setLoading] = useState(true); const [error, setError] = useState(null);
            useEffect(() => {
                const fetchHistory = async () => {
                    try {
                        const response = await fetch(HISTORY_URL); if (!response.ok) throw new Error("Failed to fetch History data");
                        const text = await response.text(); const rawData = csvToJson(text);
                        const sortedAsc = rawData.filter(r => r.Year && r.Winner).sort((a, b) => parseInt(a.Year) - parseInt(b.Year));
                        const winCounts = {};
                        setHistoryData(sortedAsc.map(entry => {
                            const winner = entry.Winner.trim(); winCounts[winner] = (winCounts[winner] || 0) + 1;
                            return { ...entry, winNumber: winCounts[winner] };
                        }).reverse());
                    } catch (err) { console.error(err); setError(err.message); } finally { setLoading(false); }
                };
                fetchHistory();
            }, []);
            if (loading) return <LoadingSpinner text="Loading History..." />;
            if (error) return <ErrorMessage message={error} />;
            return (
                <div className="flex flex-col min-h-screen bg-white font-sans pb-24">
                    <div className="bg-white pt-8 pb-8 px-4"><div className="max-w-7xl mx-auto text-center"><h2 className="text-3xl text-blue-900 font-bold mb-1">Hall of Fame</h2><p className="text-gray-600 text-sm">The legends of the family pool.</p></div></div>
                    <div className="relative px-4 max-w-2xl mx-auto w-full"><div className="space-y-8">
                            {historyData.map((item, index) => (
                                <div key={index} className="relative flex items-center group">
                                    <div className="absolute left-6 md:left-8 -translate-x-1/2 w-10 h-10 md:w-12 md:h-12 bg-white border-4 border-blue-100 rounded-full flex items-center justify-center z-10 shadow-sm group-hover:scale-110 group-hover:border-yellow-400 transition-all duration-300">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-yellow-500"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
                                    </div>
                                    <div className="ml-16 md:ml-20 bg-white p-5 rounded-2xl shadow-sm border border-gray-100 w-full flex justify-between items-center relative overflow-hidden group-hover:shadow-md transition-shadow">
                                        <div className="absolute -right-2 -bottom-6 text-7xl md:text-8xl font-black text-gray-50 select-none z-0">{item.Year}</div>
                                        <div className="relative z-10"><div className="flex items-center gap-2 mb-1"><span className="text-xs font-bold text-blue-500 uppercase tracking-widest">Champion</span>{item.winNumber > 1 && (<span className="bg-yellow-100 text-yellow-700 text-[10px] font-black px-2 py-0.5 rounded-full uppercase tracking-wide border border-yellow-200 shadow-sm">{item.winNumber}-Time Winner</span>)}</div><h3 className="text-2xl md:text-3xl font-bold text-gray-800">{item.Winner}</h3></div>
                                        <div className="relative z-10 ml-4"><div className="bg-gray-50 px-3 py-1 md:px-4 md:py-2 rounded-lg border border-gray-100 text-center"><span className="text-lg md:text-xl font-bold text-blue-900 block leading-none">{item.Year}</span></div></div>
                                    </div>
                                </div>
                            ))}
                        </div></div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('home');
            return (
                <div className="min-h-screen bg-white pt-16">
                    <Navigation activeTab={activeTab} setActiveTab={setActiveTab} />
                    {activeTab === 'home' && <HomePage />}
                    {activeTab === 'standings' && <StandingsPage />}
                    {activeTab === 'picks' && <PicksPage />}
                    {activeTab === 'race' && <RacePage />}
                    {activeTab === 'badges' && <BadgesPage />}
                    {activeTab === 'versus' && <VersusPage />}
                    {activeTab === 'simulator' && <SimulatorPage />}
                    {activeTab === 'scouting' && <ScoutingReportPage />}
                    {activeTab === 'history' && <HistoryPage />}
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById("root")); root.render(<App />);
    </script>
</body>
</html>